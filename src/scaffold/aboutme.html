<!DOCTYPE html>
<html lang="en">
<head>
    <title>About Me</title>
    {{{ head.html }}}
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .canvas-wrapper {
            width: 100%;
            height: 400px;
            position: relative;
        }

        canvas {
            display: block;
            width: 100% !important;
            height: 100% !important;
        }

        .column {
            padding: 10px;
        }
    </style>
    <script>
        var languageStats = {
            "all_time_language_stats": [
                {
                    "language": "Python",
                    "additions": 210052,
                    "percentage": 48.82534384290499
                },
                {
                    "language": "CSS",
                    "additions": 86686,
                    "percentage": 20.149647498553037
                },
                {
                    "language": "JS",
                    "additions": 62630,
                    "percentage": 14.557972715713918
                },
                {
                    "language": "Jupyter Notebook",
                    "additions": 46899,
                    "percentage": 10.901394896922673
                },
                {
                    "language": "HTML",
                    "additions": 18471,
                    "percentage": 4.293474597348743
                },
                {
                    "language": "C#",
                    "additions": 3025,
                    "percentage": 0.703143341290669
                },
                {
                    "language": "Markdown",
                    "additions": 1206,
                    "percentage": 0.28032756019720556
                },
                {
                    "language": "CSHTML",
                    "additions": 734,
                    "percentage": 0.17061395454788464
                },
                {
                    "language": "YML",
                    "additions": 152,
                    "percentage": 0.03533150012435758
                },
                {
                    "language": "SQL",
                    "additions": 146,
                    "percentage": 0.03393683564576452
                },
                {
                    "language": "Dockerfile",
                    "additions": 139,
                    "percentage": 0.03230972708740595
                },
                {
                    "language": "Makefile",
                    "additions": 71,
                    "percentage": 0.016503529663351238
                }
            ],
            "yearly_language_stats": [
                {
                    "year": 2020,
                    "total_additions": 1987,
                    "language_stats": [
                        {
                            "language": "C#",
                            "additions": 950,
                            "percentage": 47.81077000503271
                        },
                        {
                            "language": "Jupyter Notebook",
                            "additions": 573,
                            "percentage": 28.83744338198289
                        },
                        {
                            "language": "Markdown",
                            "additions": 188,
                            "percentage": 9.46149974836437
                        },
                        {
                            "language": "HTML",
                            "additions": 135,
                            "percentage": 6.794162053346755
                        },
                        {
                            "language": "Python",
                            "additions": 111,
                            "percentage": 5.586311021640665
                        },
                        {
                            "language": "CSS",
                            "additions": 30,
                            "percentage": 1.509813789632612
                        }
                    ]
                },
                {
                    "year": 2021,
                    "total_additions": 1226,
                    "language_stats": [
                        {
                            "language": "HTML",
                            "additions": 918,
                            "percentage": 74.87765089722676
                        },
                        {
                            "language": "Python",
                            "additions": 240,
                            "percentage": 19.575856443719413
                        },
                        {
                            "language": "Markdown",
                            "additions": 68,
                            "percentage": 5.5464926590538335
                        }
                    ]
                },
                {
                    "year": 2022,
                    "total_additions": 95047,
                    "language_stats": [
                        {
                            "language": "Jupyter Notebook",
                            "additions": 46326,
                            "percentage": 48.74009700463981
                        },
                        {
                            "language": "Python",
                            "additions": 45836,
                            "percentage": 48.22456258482645
                        },
                        {
                            "language": "HTML",
                            "additions": 1741,
                            "percentage": 1.8317253569286773
                        },
                        {
                            "language": "Markdown",
                            "additions": 453,
                            "percentage": 0.4766063105621429
                        },
                        {
                            "language": "CSS",
                            "additions": 357,
                            "percentage": 0.375603648721159
                        },
                        {
                            "language": "YML",
                            "additions": 112,
                            "percentage": 0.11783643881448126
                        },
                        {
                            "language": "Dockerfile",
                            "additions": 96,
                            "percentage": 0.10100266184098394
                        },
                        {
                            "language": "SQL",
                            "additions": 84,
                            "percentage": 0.08837732911086095
                        },
                        {
                            "language": "Makefile",
                            "additions": 42,
                            "percentage": 0.044188664555430475
                        }
                    ]
                },
                {
                    "year": 2023,
                    "total_additions": 2302,
                    "language_stats": [
                        {
                            "language": "C#",
                            "additions": 1574,
                            "percentage": 68.375325803649
                        },
                        {
                            "language": "CSHTML",
                            "additions": 257,
                            "percentage": 11.164205039096437
                        },
                        {
                            "language": "Python",
                            "additions": 161,
                            "percentage": 6.993918331885316
                        },
                        {
                            "language": "HTML",
                            "additions": 155,
                            "percentage": 6.733275412684622
                        },
                        {
                            "language": "Markdown",
                            "additions": 119,
                            "percentage": 5.169417897480452
                        },
                        {
                            "language": "Dockerfile",
                            "additions": 21,
                            "percentage": 0.9122502172024326
                        },
                        {
                            "language": "CSS",
                            "additions": 15,
                            "percentage": 0.6516072980017376
                        }
                    ]
                },
                {
                    "year": 2024,
                    "total_additions": 327892,
                    "language_stats": [
                        {
                            "language": "Python",
                            "additions": 163704,
                            "percentage": 49.92619521061813
                        },
                        {
                            "language": "CSS",
                            "additions": 86274,
                            "percentage": 26.311712393105047
                        },
                        {
                            "language": "JS",
                            "additions": 62630,
                            "percentage": 19.10080148341527
                        },
                        {
                            "language": "HTML",
                            "additions": 13878,
                            "percentage": 4.23249118612226
                        },
                        {
                            "language": "C#",
                            "additions": 501,
                            "percentage": 0.15279421272858137
                        },
                        {
                            "language": "CSHTML",
                            "additions": 396,
                            "percentage": 0.12077147353396851
                        },
                        {
                            "language": "Markdown",
                            "additions": 356,
                            "percentage": 0.1085723347931636
                        },
                        {
                            "language": "SQL",
                            "additions": 62,
                            "percentage": 0.018908665048247595
                        },
                        {
                            "language": "YML",
                            "additions": 40,
                            "percentage": 0.012199138740804898
                        },
                        {
                            "language": "Makefile",
                            "additions": 29,
                            "percentage": 0.008844375587083552
                        },
                        {
                            "language": "Dockerfile",
                            "additions": 22,
                            "percentage": 0.006709526307442694
                        }
                    ]
                },
                {
                    "year": 2025,
                    "total_additions": 1757,
                    "language_stats": [
                        {
                            "language": "HTML",
                            "additions": 1644,
                            "percentage": 93.5685828116107
                        },
                        {
                            "language": "CSHTML",
                            "additions": 81,
                            "percentage": 4.610130904951622
                        },
                        {
                            "language": "Markdown",
                            "additions": 22,
                            "percentage": 1.2521343198634036
                        },
                        {
                            "language": "CSS",
                            "additions": 10,
                            "percentage": 0.5691519635742743
                        }
                    ]
                }
            ]
        };

        var allTimeLanguageStatsChart;
        var languageStatsPerYearChart;

        $(function () {
            var allTimeLanguageStats = languageStats.all_time_language_stats;
            var allTimeLanguageStatsLabels = [];
            var allTimeLanguageStatsData = [];

            for (var i = 0; i < allTimeLanguageStats.length; i++) {
                allTimeLanguageStatsLabels.push(allTimeLanguageStats[i].language);
                allTimeLanguageStatsData.push(allTimeLanguageStats[i].percentage);
            }

            var allTimeLanguageStatsContext = document.getElementById("allTimeLanguageStatsChart").getContext("2d");
            allTimeLanguageStatsChart = new Chart(allTimeLanguageStatsContext, {
                type: "bar",
                data: {
                    labels: allTimeLanguageStatsLabels,
                    datasets: [{
                        data: allTimeLanguageStatsData
                    }]
                },
                options: {
                    indexAxis: "y",
                    elements: {
                        bar: {
                            borderWidth: 2,
                        }
                    },
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        title: { display: false }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: "Language Percentage in All Github Commits 01/2020 to 06/2025"
                            },
                        }
                    }
                },
            });

            var labels = [];
            var languages = [];
            var yearlyLanguageStats = languageStats.yearly_language_stats;

            for (var i = 0; i < yearlyLanguageStats.length; i++) {
                labels.push(yearlyLanguageStats[i].year);
                for (var j = 0; j < yearlyLanguageStats[i].language_stats.length; j++) {
                    if (!languages.includes(yearlyLanguageStats[i].language_stats[j].language)) {
                        languages.push(yearlyLanguageStats[i].language_stats[j].language);
                    }
                }
            }

            var languagesPercentagesEachYear = {};

            for (var i = 0; i < yearlyLanguageStats.length; i++) {
                for (var j = 0; j < yearlyLanguageStats[i].language_stats.length; j++) {
                    if (!languagesPercentagesEachYear[yearlyLanguageStats[i].language_stats[j].language]) {
                        languagesPercentagesEachYear[yearlyLanguageStats[i].language_stats[j].language] = [];
                    }
                }
            }

            for (var i = 0; i < yearlyLanguageStats.length; i++) {
                for (var j = 0; j < yearlyLanguageStats[i].language_stats.length; j++) {
                    languagesPercentagesEachYear[yearlyLanguageStats[i].language_stats[j].language].push(yearlyLanguageStats[i].language_stats[j].percentage);
                }
                for (var j = 0; j < languages.length; j++) {
                    if (!yearlyLanguageStats[i].language_stats.find(x => x.language === languages[j])) {
                        languagesPercentagesEachYear[languages[j]].push(0);
                    }
                }
            }

            const colours = [
                "#FF6F61", "#6B4226", "#F7B32B", "#1B998B", "#4285F4",
                "#7E57C2", "#F76C6C", "#FF9F1C", "#2E933C", "#4A90E2",
                "#D81B60", "#8E44AD", "#16A085", "#F39C12", "#2C3E50"
            ].reverse();

            var datasets = [];
            Object.entries(languagesPercentagesEachYear).forEach(([key, value]) => {
                datasets.push({
                    label: key,
                    backgroundColor: colours.pop(),
                    data: value,
                });
            });

            var myContext = document.getElementById("codeChart").getContext("2d");
            languageStatsPerYearChart = new Chart(myContext, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: datasets,
                },
                options: {
                    indexAxis: "y",
                    plugins: {
                        title: { display: false },
                    },
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { stacked: true },
                        y: {
                            stacked: true,
                            min: 0,
                            max: 100
                        }
                    }
                }
            });
        });

        function resizeCanvases() {
            if (allTimeLanguageStatsChart) allTimeLanguageStatsChart.resize();
            if (languageStatsPerYearChart) languageStatsPerYearChart.resize();
        }

        window.addEventListener('resize', resizeCanvases);
        window.addEventListener('load', resizeCanvases);
        document.addEventListener('fullscreenchange', resizeCanvases);
        document.addEventListener('webkitfullscreenchange', resizeCanvases);
    </script>
</head>
<body>
    {{{ header.html }}}

    <nav class="d-none d-md-block">
        <div class="desktop">
            <div class="layout">
                <li><a href="index.html">hello</a></li>
                <li><a href="aboutme.html" class="selected">about me</a></li>
                <li><a href="blog.html">blog</a></li>
                <li><a href="otherme.html">other me</a></li>
                <li><a href="projects.html">projects</a></li>
            </div>
        </div>
    </nav>

    <nav class="d-md-none navbar">
        <div class="container">
            <div class="row mobile">
                <div id="menu" class="menu"><span class="hamburger"></span>menu</div>
                <ul id="menu-container" class="navbar-nav menu-container" style="display:none">
                    <li class="col"><a href="index.html">hello</a></li>
                    <li class="col"><a href="aboutme.html" class="selected">about me</a></li>
                    <li class="col"><a href="blog.html">blog</a></li>
                    <li class="col"><a href="otherme.html">other me</a></li>
                    <li class="col"><a href="projects.html">projects</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="clear-both"></div>

    <div class="container mt-4 mb-4 layout">
        <div class="row">
            <div class="col">
                <p>
                    The following chart shows the percentage of code I have written in different languages over the years. These stats are for personal projects only and was created from my github commits using these <a href="https://github.com/twarsop/github-stats" target="_blank">scripts</a>.
                </p>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6 column">
                <div class="canvas-wrapper">
                    <canvas id="allTimeLanguageStatsChart"></canvas>
                </div>
            </div>
            <div class="col-md-6 column">
                <div class="canvas-wrapper">
                    <canvas id="codeChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    {{{ footer.html }}}
</body>
</html>
